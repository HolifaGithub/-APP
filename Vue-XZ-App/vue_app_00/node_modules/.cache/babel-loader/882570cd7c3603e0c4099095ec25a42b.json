{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\Vue-app-server\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\Vue-app-server\\vue_app_00\\src\\main.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\Vue-app-server\\vue_app_00\\src\\main.js","mtime":1563867633454},{"path":"C:\\Users\\Administrator\\Desktop\\Vue-app-server\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\Administrator\\Desktop\\Vue-app-server\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport Vue from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport footer from \"./components/footer/footer.vue\";\nimport 'mint-ui/lib/style.css'; //注册网页脚\n\nVue.component(\"app-footer\", footer);\nVue.config.productionTip = false;\nimport './lib/mui/css/mui.css'; // 导入 MUI 的样式表，扩展图标样式，购物车图标\n// 还需要加载图标字体文件\n\nimport './lib/mui/css/icons-extra.css';\nimport MintUI from 'mint-ui';\nimport 'mint-ui/lib/style.css';\nVue.use(MintUI); //引入vue-resource\n\nimport vueResource from 'vue-resource';\nVue.use(vueResource);\nVue.http.options.withCredentials = true; //引入vuex\n\nimport Vuex from \"vuex\";\nVue.use(Vuex);\nvar store = new Vuex.Store({\n  state: {\n    shopCartCount: 0,\n    sumMoney: 0\n  },\n  mutations: {\n    addShopCartCount: function addShopCartCount(state, param) {\n      state.shopCartCount += param;\n    },\n    subShopCartCount: function subShopCartCount(state, param) {\n      if (state.shopCartCount > 0) state.shopCartCount += param;\n    },\n    clearShopCartCount: function clearShopCartCount(state) {\n      state.shopCartCount = 0;\n    },\n    setSumMoney: function setSumMoney(state, param) {\n      state.sumMoney = param;\n    }\n  },\n  getters: {\n    getShopCartCount: function getShopCartCount(state) {\n      return state.shopCartCount;\n    },\n    getsumMoney: function getsumMoney(state) {\n      return state.sumMoney;\n    }\n  }\n});\nVue.filter('datetimeFilter', function (val) {\n  var date = new Date(val);\n  var y = date.getFullYear();\n  var m = date.getMonth() + 1;\n  var d = date.getDate();\n  var h = date.getHours();\n  var min = date.getMinutes();\n  var s = date.getSeconds();\n  m < 10 ? m = '0' + m : m = m;\n  d < 10 ? d = '0' + d : d = d;\n  h < 10 ? h = '0' + h : h = h;\n  min < 10 ? min = '0' + min : min = min;\n  s < 10 ? s = '0' + s : s = s;\n  return \"\".concat(y, \"-\").concat(m, \"-\").concat(d, \" \").concat(h, \":\").concat(min, \":\").concat(s);\n});\nnew Vue({\n  router: router,\n  render: function render(h) {\n    return h(App);\n  },\n  store: store,\n  created: function created() {\n    var _this = this;\n\n    this.$http.get(\"http://127.0.0.1:3000/islogin\").then(function (result1) {\n      if (result1.body.ok === 1) {\n        _this.$http.get('http://127.0.0.1:3000/getshopcart').then(function (result2) {\n          var shopCartItems = result2.body;\n          var count = 0;\n          var sum = 0;\n          var _iteratorNormalCompletion = true;\n          var _didIteratorError = false;\n          var _iteratorError = undefined;\n\n          try {\n            for (var _iterator = shopCartItems[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              var item = _step.value;\n              count += item.count;\n              sum += item.price * item.count;\n            }\n          } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion && _iterator.return != null) {\n                _iterator.return();\n              }\n            } finally {\n              if (_didIteratorError) {\n                throw _iteratorError;\n              }\n            }\n          }\n\n          _this.$store.commit(\"addShopCartCount\", count);\n\n          _this.$store.commit(\"setSumMoney\", sum);\n        });\n      }\n    });\n  }\n}).$mount('#app');",{"version":3,"sources":["src\\main.js"],"names":["Vue","App","router","footer","component","config","productionTip","MintUI","use","vueResource","http","options","withCredentials","Vuex","store","Store","state","shopCartCount","sumMoney","mutations","addShopCartCount","param","subShopCartCount","clearShopCartCount","setSumMoney","getters","getShopCartCount","getsumMoney","filter","val","date","Date","y","getFullYear","m","getMonth","d","getDate","h","getHours","min","getMinutes","s","getSeconds","render","created","$http","get","then","result1","body","ok","shopCartItems","result2","count","sum","item","price","$store","commit","$mount"],"mappings":"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","sourceRoot":"C:\\Users\\Administrator\\Desktop\\Vue-app-server\\vue_app_00","sourcesContent":["import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport footer from \"./components/footer/footer.vue\"\r\nimport'mint-ui/lib/style.css'\r\n//注册网页脚\r\nVue.component(\"app-footer\",footer);\r\nVue.config.productionTip = false;\r\nimport './lib/mui/css/mui.css'\r\n// 导入 MUI 的样式表，扩展图标样式，购物车图标\r\n// 还需要加载图标字体文件\r\nimport './lib/mui/css/icons-extra.css'\r\n\r\nimport MintUI from 'mint-ui'\r\nimport 'mint-ui/lib/style.css'\r\nVue.use(MintUI);\r\n\r\n//引入vue-resource\r\nimport vueResource from 'vue-resource';\r\nVue.use(vueResource);\r\nVue.http.options.withCredentials = true;\r\n\r\n//引入vuex\r\nimport Vuex from \"vuex\";\r\nVue.use(Vuex);\r\nvar store=new Vuex.Store({\r\n      state:{shopCartCount:0,sumMoney:0},\r\n      mutations:{\r\n      \taddShopCartCount(state,param){\r\n      \t\tstate.shopCartCount +=param;\r\n      \t},\r\n      \tsubShopCartCount(state,param){\r\n      \tif(state.shopCartCount>0)\r\n      \t\tstate.shopCartCount +=param;\r\n      \t},\r\n      \tclearShopCartCount(state){\r\n      \t\tstate.shopCartCount=0;\r\n      \t},\r\n      \tsetSumMoney(state,param){\r\n      \t\tstate.sumMoney=param;\r\n      \t}\r\n      },\r\n      getters:{\r\n      \tgetShopCartCount(state){\r\n      \t\treturn state.shopCartCount;\r\n      \t},\r\n      \tgetsumMoney(state){\r\n      \t\treturn state.sumMoney;\r\n      \t}\r\n      \t\r\n      }\r\n})\r\nVue.filter('datetimeFilter',function(val){\r\n\t var date=new Date(val);\r\n\t var y=date.getFullYear();\r\n\t var m=date.getMonth()+1;\r\n\t var d=date.getDate();\r\n\t var h=date.getHours();\r\n\t var min=date.getMinutes();\r\n\t var s=date.getSeconds();\r\n\t m<10?m='0'+m:m=m;\r\n\t d<10?d='0'+d:d=d;\r\n\t h<10?h='0'+h:h=h;\r\n\t min<10?min='0'+min:min=min;\r\n\t s<10?s='0'+s:s=s;\r\n\t return `${y}-${m}-${d} ${h}:${min}:${s}`;\r\n})\r\nnew Vue({\r\n  router,\r\n  render: h => h(App),\r\n  store,\r\n  created(){\r\n  \t\t     this.$http.get(\"http://127.0.0.1:3000/islogin\").then(result1=>{\r\n\t  \t\t\t  if(result1.body.ok===1){\r\n  \t\t\t\t  this.$http.get('http://127.0.0.1:3000/getshopcart').then(result2=>{\r\n\t\t\t\t\t\t\t\tvar shopCartItems=result2.body;\r\n\t\t\t\t\t\t\t\tvar count=0;\r\n\t\t\t\t\t\t\t\tvar sum=0;\r\n\t\t\t\t\t\t\t\tfor(var item of shopCartItems){\r\n\t\t\t\t\t\t\t\t\tcount+=item.count;\r\n\t\t\t\t\t\t\t\t\tsum +=item.price*item.count;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.$store.commit(\"addShopCartCount\",count);\r\n\t\t\t\t\t\t\t\tthis.$store.commit(\"setSumMoney\",sum); \r\n  \t\t\t\t  });\r\n  \t\t\t}\r\n  \t\t\t});\r\n  }\r\n}).$mount('#app')\r\n"]}]}