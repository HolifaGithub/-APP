{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\Vue-app-server\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\Vue-app-server\\vue_app_00\\src\\components\\user\\login.vue?vue&type=style&index=0&lang=css","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\Vue-app-server\\vue_app_00\\src\\components\\user\\login.vue","mtime":1563867802157},{"path":"C:\\Users\\Administrator\\Desktop\\Vue-app-server\\vue_app_00\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\Vue-app-server\\vue_app_00\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907988000},{"path":"C:\\Users\\Administrator\\Desktop\\Vue-app-server\\vue_app_00\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\Vue-app-server\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\Administrator\\Desktop\\Vue-app-server\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nbody{background-image: url(http://127.0.0.1:3000/img/login/bg.jpg);}\ndiv.app-login div.login-bg h3{color: #eee;background-color:#484848;text-align: center;margin-bottom: 0;height: 50px;line-height: 2;margin-top: 0;}\ndiv.app-login div.login-bg img{width: 100%;}\ndiv.app-login form.mui-input-group{\tbackground-color: #F6F7F9;height: 150px;padding-top: 20px;}\ndiv.app-login form.mui-input-group img{vertical-align: middle;margin-left: 5px;margin-top: -5px;}\ndiv.app-login div.logined div.welcome{color: #555;font-size: 28px;text-align: center;background-color: #F3F9F9;height: 200px;line-height:7;font-weight: bold;}\ndiv.app-login div.logined button{cursor:pointer;}\n",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src\\components\\user","sourcesContent":["<template>\r\n\t<div class=\"app-login\">\r\n\t\t<div class=\"login\" v-if=\"show\">\r\n\t\t\t<div class=\"login-bg\">\r\n\t\t\t\t <h3>学子商城登录</h3>\r\n\t\t\t\t<img src=\"http://127.0.0.1:3000/img/register/bg.png\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<form class=\"mui-input-group\">\r\n\t\t\t\t\t<div class=\"mui-input-row\">\r\n\t\t\t\t\t\t<label>用户名<img src=\"http://127.0.0.1:3000/img/login/yhm.png\"/></label>\r\n\t\t\t\t\t\t<input type=\"text\" class=\"mui-input-clear\" placeholder=\"请输入用户名\" v-model=\"uname\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"mui-input-row mui-password\">\r\n\t\t\t\t\t\t<label>密&nbsp;&nbsp;&nbsp;&nbsp;码<img src=\"http://127.0.0.1:3000/img/login/mm.png\"/></label>\r\n\t\t\t\t\t\t<input type=\"password\" class=\"mui-input-password\" placeholder=\"请输入密码\" v-model=\"upwd\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"mui-button-row\">\r\n\t\t\t\t\t\t<button type=\"button\" class=\"mui-btn mui-btn-primary\" @click=\"login\">登录</button>&nbsp;&nbsp;\r\n\t\t\t\t\t\t<button type=\"button\" class=\"mui-btn mui-btn-danger\" @click=\"clear\">取消</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\t\t\r\n\t\t</div>\r\n\t\t<div class=\"logined\" v-else>\r\n\t\t\t<div class=\"welcome\">Hello,{{uname}}</div>\r\n\t\t\t <mt-button  type=\"danger\" size=\"large\" @click=\"signout\">退出登录</mt-button>\r\n\t\t</div>\r\n\t\t\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tuname:'',\r\n\t\t\t\tupwd:'',\r\n\t\t\t\tback:'',\r\n\t\t\t\tshow:true\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tclear(){\r\n\t\t\t\tthis.uname='';\r\n\t\t\t\tthis.upwd='';\r\n\t\t\t},\r\n\t\t\tlogin(){\r\n\t\t\t\tthis.$http.post(\"http://127.0.0.1:3000/signin\",{uname:this.uname,upwd:this.upwd},{emulateJSON:true}).then(result=>{\r\n\t\t\t\t\tif(result.body.ok===1){\r\n\t\t\t\t\t\tif(this.back!==undefined){\r\n\t\t\t\t\t\t\t  this.$router.push(this.back);\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t  this.$router.push('/home');\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t  \t\t\t\t  this.$http.get('http://127.0.0.1:3000/getshopcart').then(result2=>{\r\n\t\t\t\t\t\t\t\tvar shopCartItems=result2.body;\r\n\t\t\t\t\t\t\t\tvar count=0;\r\n\t\t\t\t\t\t\t\tvar sum=0;\r\n\t\t\t\t\t\t\t\tfor(var item of shopCartItems){\r\n\t\t\t\t\t\t\t\t\tcount+=item.count;\r\n\t\t\t\t\t\t\t\t\tsum +=item.price*item.count;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.$store.commit(\"addShopCartCount\",count);\r\n\t\t\t\t\t\t\t\tthis.$store.commit(\"setSumMoney\",sum); \r\n  \t\t\t\t  });\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsignout(){\r\n\t\t\t\tthis.$http.get('http://127.0.0.1:3000/signout').then(result=>{\r\n\t\t\t\t\tthis.checkIsLogin();\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcheckIsLogin(){\r\n\t\t\t\tthis.$http.get(\"http://127.0.0.1:3000/islogin\").then(result=>{\r\n\t\t\t\tif(result.body.ok===1){\r\n\t\t\t\t\tthis.uname=result.body.uname;\r\n\t\t\t\t\tthis.show=false;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t    this.show=true;\r\n\t\t\t\tthis.$store.commit('clearShopCartCount');\r\n\t\t\t\t}\r\n\r\n\t\t\t})\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.back=this.$route.query.back;\r\n            this.checkIsLogin();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\tbody{background-image: url(http://127.0.0.1:3000/img/login/bg.jpg);}\r\n\tdiv.app-login div.login-bg h3{color: #eee;background-color:#484848;text-align: center;margin-bottom: 0;height: 50px;line-height: 2;margin-top: 0;}\r\n\tdiv.app-login div.login-bg img{width: 100%;}\r\n\tdiv.app-login form.mui-input-group{\tbackground-color: #F6F7F9;height: 150px;padding-top: 20px;}\r\n\tdiv.app-login form.mui-input-group img{vertical-align: middle;margin-left: 5px;margin-top: -5px;}\r\n\tdiv.app-login div.logined div.welcome{color: #555;font-size: 28px;text-align: center;background-color: #F3F9F9;height: 200px;line-height:7;font-weight: bold;}\r\n\tdiv.app-login div.logined button{cursor:pointer;}\r\n</style>"]}]}